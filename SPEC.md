# SPEC.md — 기능적 요구사항

## 제품 개요

**AI 모의면접**: 이력서와 채용공고를 기반으로 AI가 맞춤형 면접을 설계하고, 실시간 음성 면접을 진행하며, 종합 평가를 제공하는 웹 서비스.

---

## 사용자 스토리

### US-1: 이력서 업로드
**As a** 구직자
**I want to** 내 이력서를 PDF 또는 DOCX 파일로 업로드하고 싶다
**So that** AI가 내 경력과 기술을 분석하여 맞춤형 면접 질문을 만들 수 있다

**수용 기준:**
- [x] PDF, DOCX, MD, TXT 형식 지원
- [x] 드래그앤드롭 및 파일 선택 UI
- [x] 최대 5MB 파일 크기 제한
- [x] 매직 바이트 기반 파일 형식 검증
- [x] 파싱 완료 후 텍스트 길이 표시

### US-2: 채용공고 입력
**As a** 구직자
**I want to** 지원하려는 채용공고를 다양한 방법으로 입력하고 싶다
**So that** AI가 포지션 요구사항에 맞는 면접 질문을 설계할 수 있다

**수용 기준:**
- [x] 원티드 URL 입력 시 자동 스크래핑 (회사명, 포지션 추출)
- [x] 텍스트 직접 붙여넣기 (최소 50자)
- [x] 스크린샷 이미지 OCR 추출
- [x] 탭 UI로 입력 방식 전환

### US-3: 면접 시나리오 생성
**As a** 구직자
**I want to** 이력서와 공고를 기반으로 맞춤형 면접 시나리오를 받고 싶다
**So that** 실제 면접과 유사한 질문으로 연습할 수 있다

**수용 기준:**
- [x] 3단계 파이프라인 (사전 분석 → 웹 리서치 → 시나리오 설계)
- [x] 질문 5개 생성 (이력서 기반 / 공고 기반 / 상황·설계)
- [x] 질문별 꼬리질문 가이드, 평가 기준, 우려 신호 포함
- [x] 면접관 페르소나 생성 (이름, 성격, 말투, 채용 압박)
- [x] 난이도 점진적 상승 전략 (하 → 중 → 상)
- [x] Zod 스키마로 출력 구조 검증

### US-4: 실시간 음성 면접
**As a** 구직자
**I want to** AI 면접관과 마이크로 실시간 대화하고 싶다
**So that** 실제 면접처럼 말하는 연습을 할 수 있다

**수용 기준:**
- [x] WebRTC 기반 양방향 오디오 (OpenAI Realtime API)
- [x] 서버 VAD(Voice Activity Detection)로 자연스러운 턴테이킹
- [x] 면접관이 먼저 인사 후 첫 질문 시작
- [x] 실시간 대화록 표시 (면접관/지원자 구분)
- [x] 최대 10분 면접 시간 (8분 경과 시 경고)
- [x] 마이크 음소거 토글
- [x] 면접 종료 버튼

### US-5: 3D 아바타 면접관
**As a** 구직자
**I want to** 3D 아바타 면접관을 보면서 면접하고 싶다
**So that** 더 몰입감 있는 면접 경험을 할 수 있다

**수용 기준:**
- [x] GLB 모델 기반 3D 아바타 렌더링
- [x] 음성에 맞춘 립싱크 애니메이션
- [x] 상태 표시 (말하는 중 / 듣는 중 / 대기)
- [x] WebGL 미지원 시 2D 폴백
- [x] 에러 바운더리로 크래시 방지

### US-6: 카메라 PIP
**As a** 구직자
**I want to** 내 모습을 작은 화면으로 확인하고 싶다
**So that** 면접 중 표정과 자세를 점검할 수 있다

**수용 기준:**
- [x] 우하단 PIP(Picture-in-Picture) 표시
- [x] 좌우 반전(미러링)
- [x] 카메라 미사용 시 폴백 아이콘

### US-7: 면접 평가 리포트
**As a** 구직자
**I want to** 면접 후 상세한 평가 리포트를 받고 싶다
**So that** 내 강점과 약점을 파악하고 개선할 수 있다

**수용 기준:**
- [x] 종합 등급 (A/B/C/D)
- [x] 채용 추천도 (강력 추천 ~ 비추천)
- [x] 5개 역량 레이더 (기술 지식, 문제 해결력, 커뮤니케이션, 경험 깊이, 조직 적합성)
- [x] 질문별 상세 평가 (점수, 피드백, 모범 답변)
- [x] 시니어리티 적합도 판단
- [x] 개선 액션 아이템 (우선순위별)

---

## 비기능적 요구사항

| 항목 | 요구사항 |
|------|---------|
| 응답 시간 | 시나리오 생성 < 3분, 평가 생성 < 1분 |
| 면접 시간 | 최대 10분 (서버 타임아웃 3600초) |
| 파일 크기 | 이력서 최대 5MB |
| 브라우저 | Chrome/Edge (WebRTC + WebGL 필수) |
| 보안 | API 키 서버사이드만 사용, 이력서 데이터 sessionStorage 임시 저장 |
| 접근성 | WebGL 미지원 시 2D 폴백, 마이크 없을 시 무음 트랙 대체 |

---

## 변경 이력

| 날짜 | 변경 내용 |
|------|----------|
| 2026-02-21 | 초기 SPEC 작성 (해커톤 MVP) |
