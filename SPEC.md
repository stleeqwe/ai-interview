# SPEC.md — 기능적 요구사항

## 제품 개요

**AI 모의면접**: 이력서와 채용공고를 기반으로 AI가 맞춤형 면접을 설계하고, 텍스트 채팅 기반 면접을 진행하며, 종합 평가를 제공하는 웹 서비스.

---

## 사용자 스토리

### US-1: 이력서 업로드
**As a** 구직자
**I want to** 내 이력서를 PDF 또는 DOCX 파일로 업로드하고 싶다
**So that** AI가 내 경력과 기술을 분석하여 맞춤형 면접 질문을 만들 수 있다

**수용 기준:**
- [x] PDF, DOCX, MD, TXT 형식 지원
- [x] 드래그앤드롭 및 파일 선택 UI
- [x] 최대 5MB 파일 크기 제한
- [x] 매직 바이트 기반 파일 형식 검증
- [x] 파싱 완료 후 텍스트 길이 표시

### US-2: 채용공고 입력
**As a** 구직자
**I want to** 지원하려는 채용공고를 다양한 방법으로 입력하고 싶다
**So that** AI가 포지션 요구사항에 맞는 면접 질문을 설계할 수 있다

**수용 기준:**
- [x] 원티드 URL 입력 시 자동 스크래핑 (회사명, 포지션 추출)
- [x] 텍스트 직접 붙여넣기 (최소 50자)
- [x] 스크린샷 이미지 OCR 추출
- [x] 탭 UI로 입력 방식 전환

### US-3: 면접 시나리오 생성
**As a** 구직자
**I want to** 이력서와 공고를 기반으로 맞춤형 면접 시나리오를 받고 싶다
**So that** 실제 면접과 유사한 질문으로 연습할 수 있다

**수용 기준:**
- [x] 3단계 파이프라인 (사전 분석 → 웹 리서치 → 시나리오 설계)
- [x] 질문 5개 생성 (이력서 기반 / 공고 기반 / 상황·설계)
- [x] 질문별 꼬리질문 가이드, 평가 기준, 우려 신호 포함
- [x] 면접관 페르소나 생성 (이름, 성격, 말투, 채용 압박)
- [x] 난이도 점진적 상승 전략 (하 → 중 → 상)
- [x] Zod 스키마로 출력 구조 검증

### US-4: 텍스트 채팅 면접
**As a** 구직자
**I want to** AI 면접관과 텍스트로 대화형 면접을 진행하고 싶다
**So that** 실제 면접처럼 질문에 답하는 연습을 할 수 있다

**수용 기준:**
- [x] Gemini 3 Flash 기반 턴제 텍스트 채팅 (Stateless — 매 요청에 전체 대화 이력 포함)
- [x] 면접관이 먼저 인사 후 첫 질문 시작
- [x] 지원자 답변에 따른 동적 꼬리질문 (질문당 최대 2회)
- [x] 실시간 대화록 표시 (면접관/지원자 구분)
- [x] 최대 10분 면접 시간 (8분 경과 시 경고)
- [x] `[INTERVIEW_END]` 토큰 기반 면접 자동 종료
- [x] 면접 종료 버튼
- [x] AI 응답 대기 중 "생각하고 있습니다..." 인디케이터

### US-5: 브라우저 음성 입력 (선택)
**As a** 구직자
**I want to** 타이핑 대신 음성으로 답변을 입력하고 싶다
**So that** 더 자연스럽게 면접 연습을 할 수 있다

**수용 기준:**
- [x] Web Speech API (SpeechRecognition) 기반 한국어 STT
- [x] 마이크 버튼 토글로 음성 입력 시작/중지
- [x] 음성 인식 결과가 텍스트 입력 필드에 실시간 반영
- [x] 미지원 브라우저에서 마이크 버튼 비활성화 (텍스트 입력만 표시)

### US-6: 3D 아바타 면접관
**As a** 구직자
**I want to** 3D 아바타 면접관을 보면서 면접하고 싶다
**So that** 더 몰입감 있는 면접 경험을 할 수 있다

**수용 기준:**
- [x] GLB 모델 기반 3D 아바타 렌더링
- [x] 상태별 표정/자세 애니메이션 (말하는 중 / 듣는 중 / 대기)
- [x] 말하는 중 턱 애니메이션 (사인파 기반)
- [x] 눈 깜빡임 애니메이션 (1~5초 랜덤 간격)
- [x] WebGL 미지원 시 2D 폴백
- [x] 에러 바운더리로 크래시 방지

### US-7: 면접 평가 리포트
**As a** 구직자
**I want to** 면접 후 상세한 평가 리포트를 받고 싶다
**So that** 내 강점과 약점을 파악하고 개선할 수 있다

**수용 기준:**
- [x] 종합 등급 (A/B/C/D)
- [x] 채용 추천도 (강력 추천 ~ 비추천)
- [x] 5개 역량 레이더 (기술 지식, 문제 해결력, 커뮤니케이션, 경험 깊이, 조직 적합성)
- [x] 질문별 상세 평가 (점수, 피드백, 모범 답변)
- [x] 시니어리티 적합도 판단
- [x] 개선 액션 아이템 (우선순위별)

---

## 비기능적 요구사항

| 항목 | 요구사항 |
|------|---------|
| 응답 시간 | 시나리오 생성 < 3분, 면접 턴당 응답 < 5초, 평가 생성 < 1분 |
| 면접 시간 | 최대 10분 (서버 타임아웃 3600초) |
| 파일 크기 | 이력서 최대 5MB |
| 브라우저 | Chrome/Edge 권장 (WebGL + Web Speech API), 텍스트 입력은 모든 브라우저 지원 |
| 보안 | API 키 서버사이드만 사용, 이력서 데이터 sessionStorage 임시 저장 |
| 접근성 | WebGL 미지원 시 2D 폴백, STT 미지원 시 텍스트 입력만 표시 |
| 비용 | ~$0.08 ~ $0.12/회 (Gemini 단일 벤더) |

---

## 변경 이력

| 날짜 | 변경 내용 |
|------|----------|
| 2026-02-21 | 초기 SPEC 작성 (해커톤 MVP) |
| 2026-02-22 | Gemini 단일 벤더 전환 — 음성 면접(US-4) → 텍스트 채팅 면접으로 변경, 카메라 PIP(US-6) 삭제, 브라우저 STT(US-5) 추가, 3D 아바타(US-6) 간소화 (립싱크 제거, 표정/자세 애니메이션만) |
